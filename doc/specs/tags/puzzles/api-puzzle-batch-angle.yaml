get:
  operationId: apiPuzzleBatchAngle
  summary: Get multiple puzzles at once
  description: |
    Get a batch of random Lichess puzzles in JSON format.

    If authenticated, only returns puzzles that the user has never seen before.

    **DO NOT** use this endpoint to enumerate puzzles for mass download. Instead, download the [full public puzzle database](https://database.lichess.org/#puzzles).
  tags:
    - Puzzles
  security:
    - OAuth2: ["puzzle:read"]
  parameters:
    - in: path
      name: angle
      schema:
        type: string
        example: "mix"
      required: true
      description: |
        The theme or opening to filter puzzles with. Recommended: "mix".

        Available themes are listed in [the lichess source code](https://github.com/ornicar/lila/blob/master/translation/source/puzzleTheme.xml).
    - in: query
      name: difficulty
      required: false
      description: The desired puzzle difficulty, relative to the authenticated user puzzle rating, or 1500 if anonymous.
      schema:
        enum:
          - easiest
          - easier
          - normal
          - harder
          - hardest
    - in: query
      name: nb
      description: |
        How many puzzles to fetch. Just set it to `1` if you only need one puzzle.
      schema:
        type: integer
        minimum: 1
        maximum: 50
        example: 10
        default: 15
      required: false
  responses:
    "200":
      description: The requested puzzles.
      headers:
        Access-Control-Allow-Origin:
          schema:
            type: string
            default: "'*'"
      content:
        application/json:
          schema:
            $ref: "../../schemas/PuzzleBatch.yaml"
          example:
            $ref: "../../examples/puzzles-getPuzzleBatch.json"
